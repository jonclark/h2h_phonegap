<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title></title>


<meta name="description" content="">
<meta name="viewport" content="width=device-width">
<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

<!-- build:css({.tmp,app}) styles/main.css -->
<link rel="stylesheet" href="styles/main.css">
<!-- endbuild -->

    <!-- script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>  -->
	<script src="js/angular.min.js"></script>
    <script src="js/angular-resource.min.js"></script>
	<script src="https://www.google.com/jsapi" type="text/javascript"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/services.js"></script>
	<script src="js/ngGoogleCharts.js"></script>
	<script src="js/ui-bootstrap-tpls-0.4.0.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/heart.css">
	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">

<script type="text/javascript" charset="utf-8">
	function onBodyLoad() {
		console.log("onBodyLoad()");
		document.addEventListener("deviceready", onDeviceReady, false);
	}

	function onDeviceReady() {
		
		console.log("onDeviceReady()");

		//------------------------------------------------------ listDevices example ------------------------------------------------------

		var btnListDevices = document.getElementById("list-devices");
		btnListDevices.onclick = function() {
			window.plugins.bluetooth.listDevices(null, function(r) {
				printResult(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ isBTEnabled example ------------------------------------------------------

		var btnIsBTEnabled = document.getElementById("isBTEnabled");
		btnIsBTEnabled.onclick = function() {

			console.log("isBTEnabled()");
			
			window.plugins.bluetooth.isBTEnabled(null, function(r) {
				printResult2(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ enableBT example ------------------------------------------------------

		var btnEnableBT = document.getElementById("enableBT");
		btnEnableBT.onclick = function() {

			window.plugins.bluetooth.enableBT(null, function(r) {
				printResult3(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ disableBT example ------------------------------------------------------

		var btnDisableBT = document.getElementById("disableBT");
		btnDisableBT.onclick = function() {

			window.plugins.bluetooth.disableBT(null, function(r) {
				printResult4(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ pairBT example ------------------------------------------------------

		var btnPairBT = document.getElementById("pairBT");
		btnPairBT.onclick = function() {

			window.plugins.bluetooth.pairBT("74:45:8A:B2:4E:9A", function(r) {
				printResult5(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ unPairBT example ------------------------------------------------------

		var btnUnPairBT = document.getElementById("unPairBT");
		btnUnPairBT.onclick = function() {

			window.plugins.bluetooth.unPairBT("74:45:8A:B2:4E:9A", function(r) {
				printResult6(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ listBoundDevices example ------------------------------------------------------

		var btnListBoundDevices = document.getElementById("list-bound-devices");
		btnListBoundDevices.onclick = function() {

			window.plugins.bluetooth.listBoundDevices(null, function(r) {
				printResult7(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ stopDiscovering example ------------------------------------------------------

		var btnStopDiscovering = document.getElementById("stopDiscovering");
		btnStopDiscovering.onclick = function() {

			window.plugins.bluetooth.stopDiscovering(null, function(r) {
				printResult8(r)
			}, function(e) {
				console.log(e)
			});
		}

		//------------------------------------------------------ isBound example ------------------------------------------------------

		var btnIsBound = document.getElementById("isBound");
		btnIsBound.onclick = function() {

			window.plugins.bluetooth.isBound("74:45:8A:B2:4E:9A", function(r) {
				printResult9(r)
			}, function(e) {
				console.log(e)
			});
		}
	}

	function printResult(resultadoString) {
		var htmlText = "";
		var i = 0;

		var resultado = eval(resultadoString);

		for (i = 0; i < resultado.length; i++) {
			htmlText = htmlText + "<ul><li>Name Device: " + resultado[i].name
					+ "</li></ul>";
			htmlText = htmlText + "<ul><li>Address Device: "
					+ resultado[i].address + "</li></ul>";
		}
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult2(resultado) {

		var htmlText = "<ul><li>is Bluetooth Enabled?: " + resultado
				+ "</li></ul>";
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult3(resultado) {

		var htmlText = "<ul><li>Bluetooth Enabled?: " + resultado
				+ "</li></ul>";
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult4(resultado) {

		var htmlText = "<ul><li>Bluetooth Disabled?: " + resultado
				+ "</li></ul>";
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult5(resultado) {

		var htmlText = "<ul><li>Pairing with Bluetooth Device: " + resultado
				+ "</li></ul>";
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult6(resultado) {

		var htmlText = "<ul><li>unPairing Bluetooth Device: " + resultado
				+ "</li></ul>";
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult7(resultadoString) {
		var htmlText = "";
		var i = 0;

		var resultado = eval(resultadoString);

		for (i = 0; i < resultado.length; i++) {
			htmlText = htmlText + "<ul><li>Name Device: " + resultado[i].name
					+ "</li></ul>";
			htmlText = htmlText + "<ul><li>Address Device: "
					+ resultado[i].address + "</li></ul>";
		}
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult8(resultado) {

		var htmlText = "<ul><li>Stopping Discovering Bluetooth Devices: "
				+ resultado + "</li></ul>";
		document.getElementById("result").innerHTML = htmlText;
	}

	function printResult9(resultado) {

		var htmlText = "<ul><li>is Device bound with mobile address 74:45:8A:B2:4E:9A?: "
				+ resultado + "</li></ul>";
		document.getElementById("result").innerHTML = htmlText;
	}
</script>



</head>
<body ng-app="myApp" onLoad="onBodyLoad()">
	<!--[if lt IE 7]>
      <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->

	<!--[if lt IE 9]>
      <script src="bower_components/es5-shim/es5-shim.js"></script>
      <script src="bower_components/json3/lib/json3.min.js"></script>
    <![endif]-->

		<div>
			<ul>
				<li class="nav"><a href="#list">Users</a></li>
				<li class="nav"><a href="#person">BPM List</a></li>
				<li class="nav"><a href="#filter">Filtered List</a></li>
				<li class="nav"><a href="#chart">Chart</a></li>
				<li class="nav"><a href="#bluetest">Bluetooth</a></li>
			</ul>
		</div>
		<div ng-view></div>
	</div>


	<script src="bower_components/jquery/jquery.js"></script>
	<script src="scripts/vendor/cordova.js"></script>
	<script src="js/bluetooth2.js"></script>
	<script src="js/bluetooth-index.js"></script>
	<!-- script src="bower_components/angular/angular.js"></script> -->

	<!-- build:js scripts/modules.js -->
	<!-- script src="bower_components/angular-resource/angular-resource.js"></script> -->
	<!-- script src="bower_components/angular-cookies/angular-cookies.js"></script -->
	<!-- script src="bower_components/angular-sanitize/angular-sanitize.js"></script -->
	<!-- endbuild -->

	<!-- build:js({.tmp,app}) scripts/scripts.js -->
	<!-- 
        <script src="scripts/services/cordovaReady.js"></script>
        <script src="scripts/services/geolocation.js"></script>
        <script src="scripts/controllers/main.js"></script>
        -->

	<!-- endbuild -->
	
	    <div id="page-content" style="visibility: hidden">
      
      <div>
        Enable Bluetooth visibility to other devices for <b>20</b> seconds : 
        <input type="button" id="request-discoverable-button" value="Request Discoverable" onclick="requestDiscoverable(20);" />
      </div>
      
      <div>
        Enable or disable Bluetooth : 
        <input type="button" id="enable-disable-button" value="Off" onclick="toggleEnableDisable(this)" />
        
        <div>
          Get device address : 
          <input type="button" id="address-button" value="Get Address" onclick="getAddress();" />
        </div>
        
        <div>
          Get device name : 
          <input type="button" id="name-button" value="Get Name" onclick="getName();" />
        </div>
        
        <div>
          Discovery Devices : 
          <input type="button" id="discovery-button" value="Discovery" onclick="toggleDiscovery(this)" />
          <br />
          Found Devices : 
          <select id="discovered-device-list"></select>
        </div>
        
        <div>
          Get Bonded (Paired) Devices : 
          <input type="button" id="bonded-devices-button" value="Bonded Devices" onclick="bondedDevices();" />
          <br />
          Bonded Devices : 
          <select id="bonded-device-list"></select> 
          <div>
            Get UUIDs of selected device : 
            <input type="button" id="fetch-uuids-button" value="Fetch UUIDs" onclick="fetchUUIDs();" />
            <br />
            UUIDs : 
            <select id="uuid-list"></select>
          </div>
          <div>
          	 Will connect to UUID=<b id="connecting-uuid"></b> : 
             <input type="checkbox" id="secure-connect-check">Secure</input>
             <input type="button" id="connect-button" value="Connect" onclick="connect();" />
             <input type="button" id="disconnect-button" value="Disconnect" onclick="disconnect();" />
             <br />
             <input type="text" id="message-text" value="Hello!" />
             <input type="button" id="send-message-button" value="Send" onclick="sendMessage();" />
           </div>
        </div>
        
        <div>
          Listen as named <b id="listening-name"></b>, for UUID=<b id="listening-uuid"></b> : 
          <input type="checkbox" id="secure-listen-check">Secure</input>
          <input type="button" id="listen-button" value="Listen" onclick="toggleListen(this);" />
          <br />
          <textarea id="listen-textarea" rows="5" cols="20"></textarea>
        </div>

      </div> <!-- Enable Disable Bluetooth -->
       
     </div> <!-- page context -->
	
	
</body>
</html>
